{"ast":null,"code":"import _classCallCheck from \"/Users/abdifatah/Downloads/final-project-dave3615/react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/abdifatah/Downloads/final-project-dave3615/react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/abdifatah/Downloads/final-project-dave3615/react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/abdifatah/Downloads/final-project-dave3615/react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/abdifatah/Downloads/final-project-dave3615/react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/abdifatah/Downloads/final-project-dave3615/react-app/src/components/cart/Cart.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { setProductToCart, setUser, removeProductFromCart, getProducts, getShippings as _getShippings } from \"../../store/action/actionBundle\";\nimport CheckoutForm from \"./CheckoutForm\";\nimport Test from \"./test\";\nimport API from \"../../services/api\";\n\nvar Cart =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Cart, _Component);\n\n  function Cart() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Cart);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Cart)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      shippingList: []\n    };\n\n    _this.componentWillMount = function () {\n      _this.props.getShippings();\n    };\n\n    _this.renderCartItems = function (items) {\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-6 mx-auto my-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        class: \"table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \"Id\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \"Name\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \"Available\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, \"Price\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, items.map(function (item, key) {\n        return React.createElement(\"tr\", {\n          key: key,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          scope: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, item.id), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, item.name), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, item.quantity), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, item.rate));\n      }))), React.createElement(\"div\", {\n        className: \"col-sm-6 mx-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-success btn-block \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"CHECKOUT\"))));\n    };\n\n    return _this;\n  }\n\n  _createClass(Cart, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var testShipping = [{\n        firstName: \"Moha\",\n        lastName: \"Mohamed\",\n        address: \"Storgata\",\n        city: \"Oslo\",\n        postalCode: \"0182\"\n      }];\n\n      if (this.props.user) {\n        var list = []; // for (let id of this.props.user.shippingList) {\n        //   API.getshippingById(id)\n        //     .then(shipping => list.push(shipping))\n        //     .catch(err => console.log(\"errrrr\", err));\n        // }\n\n        list.push(testShipping);\n        console.log(\"beforeUpate: \", list);\n        this.setState({\n          shippingList: list\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var userShippings = this.props.shippings.filter(function (shipping) {\n        return shipping.user_id === _this2.state.userId;\n      });\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(Test, {\n        items: this.props.cartItems,\n        user: this.props.user,\n        removeItem: this.props.removeItem,\n        shippingList: this.state.shippingList,\n        getAllProducts: this.props.getAllProducts,\n        userShippings: userShippings,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Cart;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    cartItems: state.rootReducer.cartItems,\n    user: state.rootReducer.user,\n    shippings: state.rootReducer.shippings\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    cart_Item: function cart_Item(item) {\n      return dispatch(setProductToCart(item));\n    },\n    removeItem: function removeItem(item) {\n      return dispatch(removeProductFromCart(item));\n    },\n    getAllProducts: function getAllProducts() {\n      return dispatch(getProducts());\n    },\n    getShippings: function getShippings(user) {\n      return dispatch(_getShippings(user));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);","map":{"version":3,"sources":["/Users/abdifatah/Downloads/final-project-dave3615/react-app/src/components/cart/Cart.js"],"names":["React","Component","connect","setProductToCart","setUser","removeProductFromCart","getProducts","getShippings","CheckoutForm","Test","API","Cart","state","shippingList","componentWillMount","props","renderCartItems","items","map","item","key","id","name","quantity","rate","testShipping","firstName","lastName","address","city","postalCode","user","list","push","console","log","setState","userShippings","shippings","filter","shipping","user_id","userId","cartItems","removeItem","getAllProducts","mapStateToProps","rootReducer","mapDispatchToProps","dispatch","cart_Item"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  setProductToCart,\n  setUser,\n  removeProductFromCart,\n  getProducts,\n  getShippings\n} from \"../../store/action/actionBundle\";\nimport CheckoutForm from \"./CheckoutForm\";\nimport Test from \"./test\";\nimport API from \"../../services/api\";\n\nclass Cart extends Component {\n  state = {\n    shippingList: []\n  };\n\n  componentWillMount = () => {\n    this.props.getShippings();\n  };\n\n  componentDidMount() {\n    const testShipping = [\n      {\n        firstName: \"Moha\",\n        lastName: \"Mohamed\",\n        address: \"Storgata\",\n        city: \"Oslo\",\n        postalCode: \"0182\"\n      }\n    ];\n    if (this.props.user) {\n      let list = [];\n      // for (let id of this.props.user.shippingList) {\n      //   API.getshippingById(id)\n      //     .then(shipping => list.push(shipping))\n      //     .catch(err => console.log(\"errrrr\", err));\n      // }\n\n      list.push(testShipping);\n\n      console.log(\"beforeUpate: \", list);\n      this.setState({ shippingList: list });\n    }\n  }\n  renderCartItems = items => {\n    return (\n      <div className=\"container\">\n        <div className=\"col-sm-6 mx-auto my-5\">\n          <table class=\"table\">\n            <thead>\n              <tr>\n                <th scope=\"col\">Id</th>\n                <th scope=\"col\">Name</th>\n                <th scope=\"col\">Available</th>\n                <th scope=\"col\">Price</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, key) => (\n                <tr key={key}>\n                  <th scope=\"row\">{item.id}</th>\n                  <td>{item.name}</td>\n                  <td>{item.quantity}</td>\n                  <td>{item.rate}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n          <div className=\"col-sm-6 mx-auto\">\n            <button className=\"btn btn-success btn-block \">CHECKOUT</button>\n          </div>\n        </div>\n      </div>\n    );\n  };\n  render() {\n    const userShippings = this.props.shippings.filter(\n      shipping => shipping.user_id === this.state.userId\n    );\n    return (\n      <div>\n        <Test\n          items={this.props.cartItems}\n          user={this.props.user}\n          removeItem={this.props.removeItem}\n          shippingList={this.state.shippingList}\n          getAllProducts={this.props.getAllProducts}\n          userShippings={userShippings}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    cartItems: state.rootReducer.cartItems,\n    user: state.rootReducer.user,\n    shippings: state.rootReducer.shippings\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    cart_Item: item => dispatch(setProductToCart(item)),\n    removeItem: item => dispatch(removeProductFromCart(item)),\n    getAllProducts: () => dispatch(getProducts()),\n    getShippings: user => dispatch(getShippings(user))\n  };\n};\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Cart);\n"]},"metadata":{},"sourceType":"module"}